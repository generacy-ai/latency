# Quickstart: Core Facet Interfaces

## Installation

```bash
pnpm add @generacy-ai/latency
```

## Usage

### Import Facet Interfaces

```typescript
import type {
  IssueTracker,
  SourceControl,
  DecisionHandler,
  WorkflowEngine,
  Logger,
  StateStore,
  EventBus,
  SecretStore,
} from '@generacy-ai/latency';
```

### Import Supporting Types

```typescript
import type {
  Issue, IssueSpec, IssueQuery, Comment,
  Commit, Branch, DiffEntry,
  Decision, DecisionResult, Urgency,
  Workflow, WorkflowStep, WorkflowStatus,
  LogLevel,
  Unsubscribe,
  PaginatedQuery, PaginatedResult,
} from '@generacy-ai/latency';

import { FacetError } from '@generacy-ai/latency';
```

### Implement a Facet

```typescript
import type { StateStore } from '@generacy-ai/latency';
import { FacetError } from '@generacy-ai/latency';

class InMemoryStateStore implements StateStore {
  private store = new Map<string, unknown>();

  async get<T>(key: string): Promise<T | undefined> {
    return this.store.get(key) as T | undefined;
  }

  async set<T>(key: string, value: T): Promise<void> {
    this.store.set(key, value);
  }

  async delete(key: string): Promise<boolean> {
    return this.store.delete(key);
  }

  async has(key: string): Promise<boolean> {
    return this.store.has(key);
  }

  async keys(): Promise<string[]> {
    return [...this.store.keys()];
  }
}
```

### Handle Facet Errors

```typescript
import { FacetError } from '@generacy-ai/latency';

try {
  const issue = await issueTracker.getIssue('123');
} catch (error) {
  if (error instanceof FacetError) {
    console.error(`Facet error [${error.code}]: ${error.message}`);
  }
  throw error;
}
```

## Build

```bash
pnpm build       # Compile TypeScript
pnpm type-check  # Check types without emitting
```

## Troubleshooting

### Import errors with `.js` extensions
This package uses ESM with NodeNext module resolution. Internal imports use `.js` extensions. Ensure your `tsconfig.json` has `"module": "NodeNext"` and `"moduleResolution": "NodeNext"`.

### FacetError is the only runtime export
All other exports are `interface` or `type` â€” they exist only at compile time. If you need runtime values, you're likely looking for a Tier 2 abstract plugin or Tier 3 concrete implementation.

---

*Generated by speckit*
