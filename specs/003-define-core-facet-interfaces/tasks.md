# Tasks: Define core facet interfaces

**Input**: Design documents from `/specs/003-define-core-facet-interfaces/`
**Prerequisites**: plan.md (required), spec.md (required), research.md, data-model.md
**Status**: Complete

## Format: `[ID] [P?] [Story] Description`
- **[P]**: Can run in parallel (different files, no dependencies)
- **[Story]**: Which user story this task belongs to

## Phase 1: Shared Types

- [X] T001 Create `packages/latency/src/facets/common.ts` — FacetError class, PaginatedQuery, PaginatedResult<T> types with full JSDoc

## Phase 2: Core Facet Interfaces

- [X] T002 [P] Create `packages/latency/src/facets/issue-tracker.ts` — IssueTracker interface with Issue, IssueSpec, IssueUpdate, IssueQuery (extends PaginatedQuery), Comment types
- [X] T003 [P] Create `packages/latency/src/facets/source-control.ts` — SourceControl interface with Commit, CommitSpec, Branch, DiffEntry types
- [X] T004 [P] Create `packages/latency/src/facets/decision.ts` — DecisionHandler interface with DecisionSpec, DecisionOption, DecisionResult, Urgency types
- [X] T005 [P] Create `packages/latency/src/facets/workflow.ts` — WorkflowEngine interface with WorkflowSpec, WorkflowStep, WorkflowResult, StepResult, WorkflowStatus types
- [X] T006 [P] Create `packages/latency/src/facets/logging.ts` — Logger interface (synchronous methods) with LogLevel type
- [X] T007 [P] Create `packages/latency/src/facets/state.ts` — StateStore interface with generic get<T>/set<T>, delete, has, keys methods
- [X] T008 [P] Create `packages/latency/src/facets/events.ts` — EventBus interface with unknown payloads, Unsubscribe type
- [X] T009 [P] Create `packages/latency/src/facets/secrets.ts` — SecretStore interface with string-only values, getSecret/setSecret/deleteSecret/hasSecret methods

## Phase 3: Exports & Validation

- [X] T010 Create `packages/latency/src/facets/index.ts` — barrel re-export of all facet modules
- [X] T011 Update `packages/latency/src/index.ts` — add `export * from './facets/index.js'`
- [X] T012 Run `pnpm build` — verify zero compile errors and all `.d.ts` files generated

## Dependencies & Execution Order

**Phase 1 → Phase 2 → Phase 3** (sequential phases)

- **T001** must complete first — all facets import `PaginatedQuery`/`PaginatedResult` or throw `FacetError`
- **T002–T009** are fully parallel — each facet file is independent, importing only from `common.ts`
- **T010** depends on T002–T009 — must know all modules to re-export
- **T011** depends on T010 — updates package entry point to include facets barrel
- **T012** depends on T011 — final validation that everything compiles

**Parallel opportunities**: 8 tasks in Phase 2 (T002–T009) can all run concurrently.

---

*Generated by speckit*
